{% extends 'base.html' %}

{% block title %}Enter Marks for {{ assessment.assessment_name }}{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-2xl sm:text-3xl font-bold text-white">{{ assessment.assessment_name }}</h1>
    <p class="text-base sm:text-lg text-gray-400">
        Course: {{ assessment.course.course_name }} | Full Marks: {{ assessment.assessment_full_marks }}
    </p>
</div>

<div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-lg p-6 sm:p-8">
    <h2 class="text-xl sm:text-2xl font-bold text-white mb-4">Enter Student Marks</h2>
    <form method="POST">
        {% csrf_token %}
        <ul class="space-y-2">
            {% for result in student_results %}
            <li class="grid grid-cols-auto-fit sm:grid-cols-3 items-center gap-4 py-3 p-6 bg-gray-700/50 rounded-lg">
                <span class="text-left sm:text-left text-gray-200">{{ result.student.name }}</span>
                <span class="text-gray-300 text-center pr-6">{{ result.student.roll_no }}</span>
                <input type="number" step="0.5" name="marks_{{ result.student.user.id }}" 
                       value="{{ result.marks|default:'' }}"
                       class="w-full text-center col-span-1 sm:col-span-1 p-2 bg-gray-600 border border-gray-500 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            </li>
            {% endfor %}
        </ul>
        <button type="submit" 
            class="mt-6 w-full sm:px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-white font-bold transition duration-300">
            Save Marks
        </button>
    </form>
</div>
{% endblock %}